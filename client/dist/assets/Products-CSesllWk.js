import{c as g,r as l,b as c,V as o,j as e,P as E,S as q,E as L}from"./index-Bn1b0IaB.js";import{P as _,T as D}from"./trash-2-BZv5b5AW.js";import{S as z}from"./square-pen-CNTTewP7.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=g("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=g("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),M=()=>{const[h,b]=l.useState([]),[f,p]=l.useState(!0),[n,j]=l.useState(""),[m,v]=l.useState(""),[N,d]=l.useState(!1),[i,u]=l.useState(null),[a,t]=l.useState({name:"",price:"",stock:"",description:"",category:"",image_url:""});l.useEffect(()=>{x()},[]);const x=async()=>{try{p(!0);const s=await c.get("/api/products");b(s.data.data||[])}catch(s){console.error("Error cargando productos:",s),o.error("Error al cargar productos")}finally{p(!1)}},y=[...new Set(h.map(s=>s.category))],w=h.filter(s=>{const r=s.name.toLowerCase().includes(n.toLowerCase())||s.description.toLowerCase().includes(n.toLowerCase()),P=!m||s.category===m;return r&&P}),k=async s=>{s.preventDefault();try{const r={...a,price:Number.parseFloat(a.price),stock:Number.parseInt(a.stock)};i?(await c.put(`/api/products/${i.id}`,r),o.success("Producto actualizado exitosamente")):(await c.post("/api/products",r),o.success("Producto creado exitosamente")),d(!1),u(null),t({name:"",price:"",stock:"",description:"",category:"",image_url:""}),x()}catch(r){console.error("Error guardando producto:",r),o.error("Error al guardar producto")}},C=s=>{u(s),t({name:s.name,price:s.price.toString(),stock:s.stock.toString(),description:s.description,category:s.category,image_url:s.image_url}),d(!0)},S=async s=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{await c.delete(`/api/products/${s}`),o.success("Producto eliminado exitosamente"),x()}catch(r){console.error("Error eliminando producto:",r),o.error("Error al eliminar producto")}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-slate-600",children:"Cargando productos..."})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-slate-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl shadow-lg",children:e.jsx(E,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent",children:"Gestión de Productos"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Administra el catálogo de productos del sistema"})]})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),"Nuevo Producto"]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-slate-200/50",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:s=>j(s.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 h-5 w-5"}),e.jsxs("select",{value:m,onChange:s=>v(s.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",children:[e.jsx("option",{value:"",children:"Todas las categorías"}),y.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(s=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105 border border-slate-200/50",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image_url||"/placeholder.svg?height=200&width=300",alt:s.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-lg px-2 py-1",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(F,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"4.5"})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"font-bold text-slate-900 text-lg leading-tight",children:s.name}),e.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:["$",s.price]})]}),e.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"bg-slate-100 text-slate-800 text-xs px-3 py-1 rounded-full font-medium",children:s.category}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.stock>10?"bg-green-500":s.stock>0?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("span",{className:"text-sm text-slate-600",children:["Stock: ",s.stock]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>C(s),className:"flex-1 bg-blue-50 text-blue-600 px-4 py-2 rounded-xl hover:bg-blue-100 transition-all duration-200 flex items-center justify-center text-sm font-medium",children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"Editar"]}),e.jsx("button",{className:"px-3 py-2 bg-slate-50 text-slate-600 rounded-xl hover:bg-slate-100 transition-all duration-200",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(s.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all duration-200",children:e.jsx(D,{className:"h-4 w-4"})})]})]})]},s.id))}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:i?"Editar Producto":"Nuevo Producto"}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre del Producto"}),e.jsx("input",{type:"text",required:!0,value:a.name,onChange:s=>t(r=>({...r,name:s.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",placeholder:"Ingresa el nombre del producto"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Precio"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:a.price,onChange:s=>t(r=>({...r,price:s.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Stock"}),e.jsx("input",{type:"number",required:!0,value:a.stock,onChange:s=>t(r=>({...r,stock:s.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categoría"}),e.jsx("input",{type:"text",required:!0,value:a.category,onChange:s=>t(r=>({...r,category:s.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",placeholder:"Categoría del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripción"}),e.jsx("textarea",{required:!0,rows:4,value:a.description,onChange:s=>t(r=>({...r,description:s.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 resize-none",placeholder:"Describe el producto..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"URL de Imagen"}),e.jsx("input",{type:"url",required:!0,value:a.image_url,onChange:s=>t(r=>({...r,image_url:s.target.value})),className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200",placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>{d(!1),u(null),t({name:"",price:"",stock:"",description:"",category:"",image_url:""})},className:"flex-1 px-6 py-3 border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 transition-all duration-200 font-medium",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all duration-200 font-medium shadow-lg",children:i?"Actualizar":"Crear"})]})]})]})})})]})};export{M as default};
